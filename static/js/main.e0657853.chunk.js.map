{"version":3,"sources":["Components/Form/Form.jsx","Components/TodoItem/TodoItem.jsx","Components/TodoList/TodoList.jsx","Components/TodosFilter/TodosFilter.jsx","App.js","Components/localStorage.jsx","index.js"],"names":["Form","handleQuery","query","setTodos","todos","onKeyDown","e","key","preventDefault","trim","newTodo","id","Date","title","completed","type","className","placeholder","value","onChange","event","target","TodoItem","useState","clickCounter","clickHandler","currentTitle","handleChangeTitle","classNames","editing","checked","map","todo","onClick","currentNo","filter","onKeyUp","TodoList","TodosFilter","selectFilterType","removeCompleted","filterBy","filteredTodosLength","length","href","some","App","activeCheckbox","checkboxHandler","storage","setStorage","useEffect","window","localStorage","setItem","JSON","stringify","currentStorageData","parse","getItem","useGetLocalStorage","console","log","filteredTodos","getFilteredTodos","defaultChecked","htmlFor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0657853.chunk.js","sourcesContent":["import React from 'react'\n\nexport function Form({ handleQuery, query, setTodos, todos }) {\n  return (\n    <form onKeyDown={(e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n\n        if (query.trim() !== '') {\n          const newTodo = {\n            id: +new Date(),\n            title: query,\n            completed: false,\n          }\n\n          handleQuery('')\n          setTodos([...todos, newTodo])\n        }\n      }\n    }}>\n      <input\n        type=\"text\"\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n        value={query}\n        onChange={(event) => handleQuery(event.target.value)}\n      />\n    </form>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\n\nexport function TodoItem({\n  id,\n  title,\n  completed,\n  todos,\n  setTodos,\n}) {\n  const [clickCounter, clickHandler] = useState(0);\n  const [currentTitle, handleChangeTitle] = useState(title)\n\n  const deleteTodo = () => {\n    setTodos(todos.filter(todo => {\n      if (todo.id !== id) {\n        return todo;\n      }\n\n      return false\n    }))\n  }\n\n  const editTodo = (value) => {\n    setTodos(todos.map(todo => {\n      if (todo.id !== id) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        title: value\n      }\n    }))\n  }\n\n  const addTodo = () => {\n    setTodos(todos.map(todo => {\n      if (todo.id !== id) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        completed: !completed\n      }\n    }))\n  }\n\n  return (\n    <li className={classNames({\n      completed,\n      editing: clickCounter === 2\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          checked={completed}\n          className=\"toggle\"\n          onChange={addTodo}\n          \n        />\n        <label onClick={() => {\n            clickHandler(currentNo => currentNo + 1);\n          }}\n        >\n          {currentTitle}\n        </label>\n        <button\n          onClick={deleteTodo}\n          type=\"button\"\n          className=\"destroy\"\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={currentTitle}\n        onChange={(e) => {\n          handleChangeTitle(e.target.value)\n        }}\n        onKeyUp={(e) => {\n          if (e.key === 'Enter' && currentTitle !== '') {\n            clickHandler(0)\n            editTodo(currentTitle)\n          }\n\n          if (e.key === 'Escape') {\n            clickHandler(0)\n            handleChangeTitle(title)\n          }\n        }}\n      />\n    </li>\n  )\n}\n","import React from 'react'\nimport { TodoItem } from '../TodoItem/TodoItem';\n\nexport function TodoList({ todos, setTodos}) {\n  return (\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <TodoItem\n          key={todo.id}\n          id={todo.id}\n          title={todo.title}\n          completed={todo.completed}\n          setTodos={setTodos}\n          todos={todos}\n        />\n      ))}\n    </ul>\n  )\n}\n","import React from 'react'\n\nexport function TodosFilter({ selectFilterType, todos, removeCompleted, filterBy }) {\n  const filteredTodosLength = todos.filter(todo => !todo.completed).length;\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        {filteredTodosLength > 0 ? `${filteredTodosLength} items left` : `nothing to do`}\n      </span>\n\n      <ul className=\"filters\">\n        <li onClick={() => selectFilterType('all')}>\n          <a\n            href=\"#/\"\n            className={filterBy === 'all' ? 'selected' : ''}\n          >\n            All\n          </a>\n        </li>\n\n        <li onClick={() => selectFilterType('uncompleted')}>\n          <a\n            href=\"#/active\"\n            className={filterBy === 'uncompleted' ? 'selected' : ''}\n          >\n            Active\n          </a>\n        </li>\n\n        <li onClick={() => selectFilterType('completed')}>\n          <a\n            href=\"#/completed\"\n            className={filterBy === 'completed' ? 'selected' : ''}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n\n      {todos.some(todo => todo.completed) && <button\n      onClick={() => removeCompleted(todos.filter(todo => !todo.completed))}\n        type=\"button\"\n        className=\"clear-completed\"\n      >\n        Clear completed\n      </button>}\n    </footer>\n  )\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { useGetLocalStorage, useSetLocalStorage } from './Components/localStorage';\nimport { Form } from './Components/Form/Form';\nimport { TodoList } from './Components/TodoList/TodoList';\nimport { TodosFilter } from './Components/TodosFilter/TodosFilter';\n\nfunction App() {\n  const [query, handleQuery] = useState('');\n  const [activeCheckbox, checkboxHandler] = useState(false);\n  const [filterBy, selectFilterType] = useState('');\n\n  const [storage, setStorage] = useState([]);\n  const [todos, setTodos] = useState([]);\n\n  useSetLocalStorage('todos', todos)\n\n  const currentStorageData = useGetLocalStorage('todos');\n\n  useEffect(() => { \n    setStorage(currentStorageData)\n  }, [todos])\n\n  console.log(storage);\n\n  \n\n  // console.log(useGetLocalStorage('todos'));\n\n  const getFilteredTodos = (value) => {\n    switch(value) {\n      case 'completed':\n        return todos.filter(todo => todo.completed)\n\n      case 'uncompleted':\n        return todos.filter(todo => !todo.completed)\n\n      default:\n        case 'all':\n        return todos;\n    }\n  }\n\n  const filteredTodos = getFilteredTodos(filterBy)\n\n  const toggleCheckbox = () => {\n    if (activeCheckbox) {\n      checkboxHandler(false)\n    } else {\n      checkboxHandler(true)\n    }\n  }\n\n  useEffect(() => {\n    if (activeCheckbox) {\n      setTodos(todos\n        .map(todo => ({\n          ...todo,\n          completed: true,\n        }))\n      )\n    } else {\n      setTodos(todos\n        .map(todo => ({\n          ...todo,\n          completed: false,\n        }))\n      )\n    }\n\n   return () => {\n     console.log(`unmounted ${activeCheckbox}`);\n   }\n  }, [activeCheckbox])\n  \n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n        <Form\n          handleQuery={handleQuery}\n          query={query}\n          setTodos={setTodos}\n          todos={todos}\n        />\n      </header>\n\n      <section className=\"main\">\n        <input\n          type=\"checkbox\"\n          id=\"toggle-all\"\n          className=\"toggle-all\"\n          defaultChecked={activeCheckbox}\n          onChange={toggleCheckbox}\n        />\n        <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n        {todos.length !== 0 && (\n          <TodoList\n            todos={filteredTodos}\n            setTodos={setTodos}\n          />\n        )}\n      </section>\n\n      {todos.length > 0 && (\n      <TodosFilter\n        todos={todos}\n        selectFilterType={selectFilterType}\n        removeCompleted={setTodos}\n        filterBy={filterBy}\n      />\n      )}\n    </section>\n  );\n}\n\nexport default App;\n","import { useEffect } from 'react';\n\nexport const useSetLocalStorage = (key, value) => {\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value]);\n}\n\nexport const useGetLocalStorage = (key) => {\n  try {\n    return JSON.parse(window.localStorage.getItem(key));\n  } catch {\n    return null;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}