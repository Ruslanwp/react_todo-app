(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(e,t,n){e.exports=n(20)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(7),l=n.n(c),r=(n(15),n(16),n(17),n(2)),u=n(1);var i=n(9),d=n(4),s=n.n(d),m=(s.a.shape({id:s.a.number.isRequired,title:s.a.string.isRequired,completed:s.a.bool.isRequired}),function(e){var t=e.handleQuery,n=e.query,a=e.setTodos,c=e.todos;return o.a.createElement("form",{onKeyDown:function(e){if("Enter"===e.key&&(e.preventDefault(),""!==n.trim())){var o={id:+new Date,title:n,completed:!1};t(""),a([o].concat(Object(i.a)(c)))}}},o.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:n,onChange:function(e){return t(e.target.value)}}))});m.defaultProps={todos:[]};var f=n(8),p=n.n(f),h=function(e){var t=e.todo,n=e.handleCompleteTodo,c=e.handleChangeTodo,l=e.handleDeleteTodo,r=Object(a.useState)(0),i=Object(u.a)(r,2),d=i[0],s=i[1],m=Object(a.useState)(t.title),f=Object(u.a)(m,2),h=f[0],b=f[1],E=t.completed,g=t.id;return o.a.createElement("li",{className:p()({completed:E,editing:2===d})},o.a.createElement("div",{className:"view"},o.a.createElement("input",{type:"checkbox",checked:E,className:"toggle",onChange:function(){return n(g)}}),o.a.createElement("label",{onClick:function(){s((function(e){return e+1}))}},h),o.a.createElement("button",{onClick:function(){return l(g)},type:"button",className:"destroy"})),o.a.createElement("input",{type:"text",className:"edit",value:h,onChange:function(e){b(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&""!==h&&(s(0),c(t.id,h)),"Escape"===e.key&&(s(0),b(t.title))}}))},b=function(e){var t=e.todos,n=e.handleCompleteTodo,a=e.handleChangeTodo,c=e.handleDeleteTodo;return o.a.createElement("ul",{className:"todo-list"},t.map((function(e){return o.a.createElement(h,{key:e.id,todo:e,handleCompleteTodo:n,handleChangeTodo:a,handleDeleteTodo:c})})))};b.defaultProps={todos:[]};var E=o.a.memo((function(e){var t=e.setFilter,n=e.removeCompletedTodos,a=e.todos,c=e.filterBy,l=a.filter((function(e){return!e.completed})).length;return o.a.createElement("footer",{className:"footer"},o.a.createElement("span",{className:"todo-count"},l>0?"".concat(l," items left"):"nothing to do"),o.a.createElement("ul",{className:"filters"},o.a.createElement("li",{onClick:function(){return t("all")}},o.a.createElement("a",{href:"#/",className:"all"===c?"selected":""},"All")),o.a.createElement("li",{onClick:function(){return t("uncompleted")}},o.a.createElement("a",{href:"#/active",className:"uncompleted"===c?"selected":""},"Active")),o.a.createElement("li",{onClick:function(){return t("completed")}},o.a.createElement("a",{href:"#/completed",className:"completed"===c?"selected":""},"Completed"))),a.some((function(e){return e.completed}))&&o.a.createElement("button",{onClick:function(){n(a.filter((function(e){return!e.completed}))),t("")},type:"button",className:"clear-completed"},"Clear completed"))}));E.defaultProps={todos:[]};var g=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),i=Object(u.a)(l,2),d=i[0],s=i[1],f=Object(a.useState)(""),p=Object(u.a)(f,2),h=p[0],g=p[1],O=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return t}})),o=Object(u.a)(n,2),c=o[0],l=o[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;l(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}("todos",[]),j=Object(u.a)(O,2),v=j[0],C=j[1],y=Object(a.useCallback)((function(e){g(e)}),[v]),N=Object(a.useCallback)((function(){C(v.filter((function(e){return!e.completed})))}),[v]),k=Object(a.useMemo)((function(){return function(e){switch(e){case"completed":return v.filter((function(e){return e.completed}));case"uncompleted":return v.filter((function(e){return!e.completed}));default:case"all":return v}}(h)}),[h,v,d]);return o.a.createElement("section",{className:"todoapp"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement(m,{handleQuery:c,query:n,setTodos:C,todos:v})),0!==v.length&&o.a.createElement("section",{className:"main"},o.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",defaultChecked:d,onChange:function(){d?(s(!1),C(v.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!1})})))):(s(!0),C(v.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!0})}))))}}),o.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),o.a.createElement(b,{handleCompleteTodo:function(e){C(v.map((function(t){return t.id!==e?t:Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed})})))},handleChangeTodo:function(e,t){C(v.map((function(n){return n.id!==e?n:Object(r.a)(Object(r.a)({},n),{},{title:t})})))},handleDeleteTodo:function(e){C(v.filter((function(t){return t.id!==e&&t})))},todos:k,setTodos:C})),v.length>0&&o.a.createElement(E,{todos:v,setFilter:y,removeCompletedTodos:N,filterBy:h}))};l.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.47085f37.chunk.js.map